import{j as t,C as b,B as o,e as c,a8 as v,T as e,g as S,o as k,G as m,f as h,h as p,a9 as w,w as A,aa as C,n as W,O as z,ab as B,ac as R,D as E}from"./ui-4acb94fb.js";import{r as i}from"./vendor-c1fc8f85.js";import{u as I,W as D}from"./index-41294929.js";import{b as L,L as P}from"./router-7ed49354.js";import{a as M}from"./utils-4719f846.js";import"./query-956dc969.js";const l=M.create({baseURL:{}.VITE_API_URL||"http://localhost:5000",timeout:1e4}),Q={getQuickStats:async()=>{try{const s=await l.get("/admin/stats/quick");if(s.data.status==="success"&&s.data.data)return s.data.data;throw new Error(s.data.message||"Ошибка при получении статистики")}catch(s){return console.error("Ошибка API adminStats.getQuickStats:",s),{activeStudents:0,instructors:0,vehicles:0,documents:0,totalStudents:0,totalCourses:0,totalRevenue:0,completionRate:0}}},getDetailedStats:async()=>{try{const s=await l.get("/admin/stats/detailed");if(s.data.status==="success"&&s.data.data)return s.data.data;throw new Error(s.data.message||"Ошибка при получении детальной статистики")}catch(s){return console.error("Ошибка API adminStats.getDetailedStats:",s),{}}},getMonthlyStats:async()=>{try{const s=await l.get("/admin/stats/monthly");if(s.data.status==="success"&&s.data.data)return s.data.data;throw new Error(s.data.message||"Ошибка при получении месячной статистики")}catch(s){return console.error("Ошибка API adminStats.getMonthlyStats:",s),{}}}},Y=()=>{const s=L(),{disableAdminMode:u}=I(),[T,g]=i.useState(null),[F,d]=i.useState(!0),[G,x]=i.useState(null);i.useEffect(()=>{(async()=>{try{d(!0),x(null);const n=await Q.getQuickStats();g(n)}catch(n){x("Не удалось загрузить статистику"),console.error("Ошибка загрузки статистики:",n)}finally{d(!1)}})()},[]);const j=()=>{u(),s("/",{replace:!0})},f=[{title:"Управление контентом",description:"Статьи, новости, информационные страницы",icon:t.jsx(w,{sx:{fontSize:40,color:"primary.main"}}),actions:["Статьи","Новости","Страницы"],color:"#e3f2fd",link:"/admin/content"},{title:"Управление документами",description:"Официальные документы, лицензии, отчеты",icon:t.jsx(A,{sx:{fontSize:40,color:"secondary.main"}}),actions:["Устав","Лицензии","Отчеты"],color:"#f3e5f5",link:"/admin/documents"},{title:"Управление услугами",description:"Платные услуги, цены, условия оплаты",icon:t.jsx(C,{sx:{fontSize:40,color:"success.main"}}),actions:["Основные услуги","Дополнительные услуги","Условия оплаты"],color:"#e8f5e8",link:"/admin/services"},{title:"Управление персоналом",description:"Сотрудники, инструкторы, расписание",icon:t.jsx(W,{sx:{fontSize:40,color:"success.main"}}),actions:["Сотрудники","Инструкторы","Расписание"],color:"#e8f5e8",link:"/admin/staff"},{title:"Управление студентами",description:"Запись, успеваемость, документы",icon:t.jsx(z,{sx:{fontSize:40,color:"warning.main"}}),actions:["Студенты","Группы","Прогресс"],color:"#fff3e0",link:"/admin/students"},{title:"Аналитика и отчеты",description:"Отчеты, статистика, финансы",icon:t.jsx(B,{sx:{fontSize:40,color:"info.main"}}),actions:["Статистика","Отчеты","Финансы"],color:"#e3f2fd",link:"/admin/analytics"},{title:"Настройки системы",description:"Конфигурация системы, безопасность",icon:t.jsx(R,{sx:{fontSize:40,color:"secondary.main"}}),actions:["Настройки","Безопасность","Интеграции"],color:"#f3e5f5",link:"/admin/settings"},{title:"Управление автопарком",description:"Автомобили, техосмотры, ремонт",icon:t.jsx(E,{sx:{fontSize:40,color:"primary.main"}}),actions:["Автомобили","ТО","Ремонт"],color:"#ffebee",link:"/admin/fleet"}];return t.jsxs(t.Fragment,{children:[t.jsxs(D,{children:[t.jsx("title",{children:"Админ-панель - РУЛЬ+ | СЕЛ - ПОЕХАЛ"}),t.jsx("meta",{name:"description",content:"Панель администратора автошколы РУЛЬ+. Управление контентом, персоналом и настройками системы."}),t.jsx("meta",{name:"robots",content:"noindex,nofollow"})]}),t.jsxs(b,{maxWidth:"lg",sx:{py:6},children:[t.jsxs(o,{sx:{position:"relative",textAlign:"center",mb:6},children:[t.jsx(o,{sx:{position:"absolute",right:0,top:0},children:t.jsx(c,{variant:"outlined",color:"secondary",startIcon:t.jsx(v,{}),onClick:j,sx:{borderRadius:3,"&:hover":{backgroundColor:"secondary.light",color:"white"}},children:"Выйти"})}),t.jsxs(e,{variant:"h3",component:"h1",gutterBottom:!0,sx:{fontWeight:"bold",background:"linear-gradient(45deg, #212529, #dc3545)",backgroundClip:"text",WebkitBackgroundClip:"text",color:"transparent"},children:["Админ-панель РУЛЬ",t.jsx("span",{style:{color:"#dc3545"},children:"+"})]}),t.jsx(e,{variant:"h6",color:"text.secondary",sx:{maxWidth:600,mx:"auto"},children:"СЕЛ — ПОЕХАЛ в управление! Централизованное управление автошколой"}),t.jsx(o,{sx:{mt:2},children:t.jsx(S,{label:"Авторизован как администратор",color:"success",variant:"outlined",sx:{fontWeight:600}})})]}),t.jsxs(k,{severity:"success",sx:{mb:4,borderRadius:2},action:t.jsx(c,{color:"inherit",size:"small",component:P,to:"/",children:"На главную"}),children:[t.jsx("strong",{children:"Добро пожаловать!"})," Система управления РУЛЬ+ готова к работе. Все модули администрирования доступны для использования."]}),t.jsx(e,{variant:"h5",gutterBottom:!0,sx:{fontWeight:"bold",mb:3},children:"Управление системой"}),t.jsx(m,{container:!0,spacing:4,children:f.map((a,n)=>t.jsx(m,{item:!0,xs:12,md:6,children:t.jsx(h,{sx:{height:"100%",position:"relative",bgcolor:a.color,textDecoration:"none",cursor:"pointer","&:hover":{boxShadow:"0 8px 32px rgba(220, 53, 69, 0.15)",transform:"translateY(-2px)"},transition:"all 0.3s ease"},onClick:()=>s(a.link),children:t.jsxs(p,{sx:{p:3},children:[t.jsxs(o,{sx:{display:"flex",alignItems:"center",mb:2},children:[a.icon,t.jsx(e,{variant:"h6",fontWeight:"bold",sx:{ml:2},children:a.title})]}),t.jsx(e,{variant:"body2",color:"text.secondary",sx:{mb:3},children:a.description}),t.jsxs(o,{sx:{mb:2},children:[t.jsx(e,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"Доступные действия:"}),a.actions.map((r,y)=>t.jsx(e,{variant:"body2",sx:{mb:.5,pl:2,position:"relative","&:before":{content:'"•"',position:"absolute",left:0,color:"primary.main",fontWeight:"bold"}},children:r},y))]}),t.jsx(c,{variant:"contained",size:"small",onClick:r=>{r.stopPropagation(),s(a.link)},sx:{bgcolor:"primary.main",color:"white","&:hover":{bgcolor:"primary.dark"}},children:"Открыть"})]})})},n))}),t.jsx(h,{sx:{mt:6,bgcolor:"secondary.main",color:"white"},children:t.jsxs(p,{sx:{p:4,textAlign:"center"},children:[t.jsx(e,{variant:"h5",gutterBottom:!0,sx:{fontWeight:"bold"},children:"Система управления РУЛЬ+ v1.0"}),t.jsx(e,{variant:"body1",sx:{mb:3,opacity:.9},children:"Современная платформа для управления автошколой. СЕЛ — ПОЕХАЛ к цифровизации образования!"}),t.jsxs(o,{sx:{display:"flex",justifyContent:"center",gap:4,flexWrap:"wrap","& > div":{display:"flex",alignItems:"center",gap:1,opacity:.8}},children:[t.jsx(o,{children:t.jsx(e,{variant:"body2",children:"🚀 Версия: 1.0.0-beta"})}),t.jsx(o,{children:t.jsx(e,{variant:"body2",children:"🔧 React + Node.js"})}),t.jsx(o,{children:t.jsx(e,{variant:"body2",children:"📊 MongoDB + Redis"})})]})]})})]})]})};export{Y as default};
//# sourceMappingURL=index-930a289e.js.map
