import{j as e,C,B as r,e as c,ah as v,D as h,T as l,i as D,y as w,z as k,F as B,H as p,J as a,K as W,A as E,g as I,af as N,ak as F,W as V,X as z,Z as A,_ as H,a3 as O,ao as R,ap as G}from"./ui-4acb94fb.js";import{r as s}from"./vendor-c1fc8f85.js";import{W as J}from"./index-41294929.js";import{b as K}from"./router-7ed49354.js";import"./utils-4719f846.js";import"./query-956dc969.js";const _=()=>{const g=K(),[d,x]=s.useState([]),[u,m]=s.useState(null),[f,n]=s.useState(!1);s.useState(!1);const[i,j]=s.useState({model:"",plateNumber:"",year:new Date().getFullYear(),category:"",status:"active",instructor:"",mileage:0,lastService:"",nextService:"",fuelType:"Бензин",color:""});s.useEffect(()=>{x([{id:"1",model:"Lada Granta",plateNumber:"А123ВС99",year:2022,category:"Категория B",status:"active",instructor:"Иванов И.И.",mileage:45e3,lastService:"2024-01-15",nextService:"2024-04-15",fuelType:"Бензин",color:"Белый"},{id:"2",model:"Hyundai Solaris",plateNumber:"В456ЕК99",year:2023,category:"Категория B",status:"active",instructor:"Петрова А.С.",mileage:28e3,lastService:"2024-01-20",nextService:"2024-04-20",fuelType:"Бензин",color:"Серый"}])},[]);const y=t=>{switch(t){case"active":return"success";case"maintenance":return"warning";case"repair":return"error";case"inactive":return"default";default:return"default"}},b=t=>{switch(t){case"active":return"Активный";case"maintenance":return"ТО";case"repair":return"Ремонт";case"inactive":return"Неактивный";default:return t}},S=t=>{m(t),j({model:t.model,plateNumber:t.plateNumber,year:t.year,category:t.category,status:t.status,instructor:t.instructor,mileage:t.mileage,lastService:t.lastService,nextService:t.nextService,fuelType:t.fuelType,color:t.color}),n(!0)},T=()=>{if(u){const t=d.map(o=>o.id===u.id?{...o,...i}:o);x(t)}n(!1),m(null)};return e.jsxs(e.Fragment,{children:[e.jsxs(J,{children:[e.jsx("title",{children:"Управление автопарком - РУЛЬ+ Админ"}),e.jsx("meta",{name:"robots",content:"noindex,nofollow"})]}),e.jsxs(C,{maxWidth:"xl",sx:{py:4},children:[e.jsxs(r,{sx:{display:"flex",alignItems:"center",mb:4},children:[e.jsx(c,{startIcon:e.jsx(v,{}),onClick:()=>g("/admin"),sx:{mr:2},children:"Назад"}),e.jsx(h,{sx:{mr:2,fontSize:32,color:"primary.main"}}),e.jsxs(r,{children:[e.jsx(l,{variant:"h4",component:"h1",fontWeight:"bold",children:"Управление автопарком"}),e.jsx(l,{variant:"body1",color:"text.secondary",children:"Управление транспортными средствами автошколы"})]})]}),e.jsx(D,{sx:{width:"100%",overflow:"hidden"},children:e.jsx(w,{children:e.jsxs(k,{children:[e.jsx(B,{children:e.jsxs(p,{children:[e.jsx(a,{children:"Транспортное средство"}),e.jsx(a,{children:"Категория"}),e.jsx(a,{children:"Инструктор"}),e.jsx(a,{children:"Статус"}),e.jsx(a,{align:"center",children:"Действия"})]})}),e.jsx(W,{children:d.map(t=>e.jsxs(p,{hover:!0,children:[e.jsx(a,{children:e.jsxs(r,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(E,{sx:{mr:2,bgcolor:"primary.main"},children:e.jsx(h,{})}),e.jsxs(r,{children:[e.jsx(l,{variant:"subtitle2",fontWeight:"medium",children:t.model}),e.jsx(l,{variant:"body2",color:"text.secondary",children:t.plateNumber})]})]})}),e.jsx(a,{children:t.category}),e.jsx(a,{children:t.instructor}),e.jsx(a,{children:e.jsx(I,{label:b(t.status),size:"small",color:y(t.status)})}),e.jsx(a,{align:"center",children:e.jsx(N,{size:"small",onClick:()=>S(t),title:"Редактировать",children:e.jsx(F,{})})})]},t.id))})]})})}),e.jsxs(V,{open:f,onClose:()=>n(!1),maxWidth:"md",fullWidth:!0,children:[e.jsx(z,{children:"Редактировать ТС"}),e.jsx(A,{children:e.jsx(r,{sx:{pt:2},children:e.jsx(H,{fullWidth:!0,label:"Модель",value:i.model,onChange:t=>j({...i,model:t.target.value}),sx:{mb:2}})})}),e.jsxs(O,{children:[e.jsx(c,{onClick:()=>n(!1),startIcon:e.jsx(R,{}),children:"Отмена"}),e.jsx(c,{onClick:T,variant:"contained",startIcon:e.jsx(G,{}),children:"Сохранить"})]})]})]})]})};export{_ as default};
//# sourceMappingURL=index-221d65ef.js.map
