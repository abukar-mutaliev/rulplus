import{j as e,C as D,B as n,e as w,ah as A,ab as P,T as t,$ as L,a0 as k,a1 as E,a2 as o,G as a,f as d,h as x,a5 as m,n as F,O as W,aa as M,aC as U,aD as q,i as h,y as G,z as H,F as N,H as y,J as i,K as J,x as f,ao as K,ay as v,az as b,aE as O,aA as C,aB as R,q as I}from"./ui-4acb94fb.js";import{r as j}from"./vendor-c1fc8f85.js";import{W as $}from"./index-8b3557c4.js";import{b as Q}from"./router-7ed49354.js";import"./utils-4719f846.js";import"./query-956dc969.js";const se=()=>{const S=Q(),[z,B]=j.useState("2024"),[l,T]=j.useState([]);j.useEffect(()=>{T([{month:"Январь",students:45,completed:32,revenue:48e4,exams:35,passRate:85},{month:"Февраль",students:52,completed:38,revenue:57e4,exams:40,passRate:90},{month:"Март",students:48,completed:35,revenue:525e3,exams:38,passRate:87},{month:"Апрель",students:55,completed:42,revenue:63e4,exams:45,passRate:92},{month:"Май",students:60,completed:47,revenue:705e3,exams:50,passRate:88},{month:"Июнь",students:58,completed:45,revenue:69e4,exams:48,passRate:91}])},[]);const c={totalStudents:l.reduce((s,r)=>s+r.students,0),totalCompleted:l.reduce((s,r)=>s+r.completed,0),totalRevenue:l.reduce((s,r)=>s+r.revenue,0),avgPassRate:Math.round(l.reduce((s,r)=>s+r.passRate,0)/l.length),totalExams:l.reduce((s,r)=>s+r.exams,0)},u=[{name:"Иванов И.И.",students:32,rating:4.8,completionRate:95},{name:"Петрова А.С.",students:28,rating:4.7,completionRate:92},{name:"Сидоров П.А.",students:25,rating:4.6,completionRate:88},{name:"Козлова М.Д.",students:22,rating:4.5,completionRate:85}],p=[{course:"Категория B",students:180,percentage:75},{course:"Категория A",students:35,percentage:15},{course:"Категория C",students:18,percentage:7},{course:"Категория D",students:7,percentage:3}],g=s=>new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:0}).format(s);return e.jsxs(e.Fragment,{children:[e.jsxs($,{children:[e.jsx("title",{children:"Аналитика - РУЛЬ+ Админ"}),e.jsx("meta",{name:"robots",content:"noindex,nofollow"})]}),e.jsxs(D,{maxWidth:"xl",sx:{py:4},children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:4},children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(w,{startIcon:e.jsx(A,{}),onClick:()=>S("/admin"),sx:{mr:2},children:"Назад"}),e.jsx(P,{sx:{mr:2,fontSize:32,color:"primary.main"}}),e.jsxs(n,{children:[e.jsx(t,{variant:"h4",component:"h1",fontWeight:"bold",children:"Аналитика и отчеты"}),e.jsx(t,{variant:"body1",color:"text.secondary",children:"Статистика работы автошколы и анализ показателей"})]})]}),e.jsxs(L,{sx:{minWidth:150},children:[e.jsx(k,{children:"Период"}),e.jsxs(E,{value:z,label:"Период",onChange:s=>B(s.target.value),children:[e.jsx(o,{value:"2024",children:"2024 год"}),e.jsx(o,{value:"2023",children:"2023 год"}),e.jsx(o,{value:"quarter",children:"Квартал"}),e.jsx(o,{value:"month",children:"Месяц"})]})]})]}),e.jsxs(a,{container:!0,spacing:3,sx:{mb:4},children:[e.jsx(a,{item:!0,xs:12,sm:6,md:3,children:e.jsx(d,{children:e.jsx(x,{children:e.jsxs(n,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs(n,{children:[e.jsx(t,{color:"text.secondary",gutterBottom:!0,children:"Всего студентов"}),e.jsx(t,{variant:"h4",color:"primary",children:c.totalStudents}),e.jsxs(n,{sx:{display:"flex",alignItems:"center",mt:1},children:[e.jsx(m,{sx:{fontSize:16,color:"success.main",mr:.5}}),e.jsx(t,{variant:"body2",color:"success.main",children:"+12% к прошлому периоду"})]})]}),e.jsx(F,{sx:{fontSize:48,color:"primary.main",opacity:.3}})]})})})}),e.jsx(a,{item:!0,xs:12,sm:6,md:3,children:e.jsx(d,{children:e.jsx(x,{children:e.jsxs(n,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs(n,{children:[e.jsx(t,{color:"text.secondary",gutterBottom:!0,children:"Завершили курс"}),e.jsx(t,{variant:"h4",color:"success.main",children:c.totalCompleted}),e.jsxs(n,{sx:{display:"flex",alignItems:"center",mt:1},children:[e.jsx(m,{sx:{fontSize:16,color:"success.main",mr:.5}}),e.jsx(t,{variant:"body2",color:"success.main",children:"+8% к прошлому периоду"})]})]}),e.jsx(W,{sx:{fontSize:48,color:"success.main",opacity:.3}})]})})})}),e.jsx(a,{item:!0,xs:12,sm:6,md:3,children:e.jsx(d,{children:e.jsx(x,{children:e.jsxs(n,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs(n,{children:[e.jsx(t,{color:"text.secondary",gutterBottom:!0,children:"Доходы"}),e.jsx(t,{variant:"h4",color:"success.main",children:g(c.totalRevenue)}),e.jsxs(n,{sx:{display:"flex",alignItems:"center",mt:1},children:[e.jsx(m,{sx:{fontSize:16,color:"success.main",mr:.5}}),e.jsx(t,{variant:"body2",color:"success.main",children:"+15% к прошлому периоду"})]})]}),e.jsx(M,{sx:{fontSize:48,color:"success.main",opacity:.3}})]})})})}),e.jsx(a,{item:!0,xs:12,sm:6,md:3,children:e.jsx(d,{children:e.jsx(x,{children:e.jsxs(n,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs(n,{children:[e.jsx(t,{color:"text.secondary",gutterBottom:!0,children:"Средняя сдача"}),e.jsxs(t,{variant:"h4",color:"warning.main",children:[c.avgPassRate,"%"]}),e.jsxs(n,{sx:{display:"flex",alignItems:"center",mt:1},children:[e.jsx(U,{sx:{fontSize:16,color:"error.main",mr:.5}}),e.jsx(t,{variant:"body2",color:"error.main",children:"-2% к прошлому периоду"})]})]}),e.jsx(q,{sx:{fontSize:48,color:"warning.main",opacity:.3}})]})})})})]}),e.jsxs(a,{container:!0,spacing:3,children:[e.jsx(a,{item:!0,xs:12,lg:8,children:e.jsxs(h,{sx:{p:3},children:[e.jsx(t,{variant:"h6",gutterBottom:!0,children:"Помесячная статистика"}),e.jsx(G,{children:e.jsxs(H,{children:[e.jsx(N,{children:e.jsxs(y,{children:[e.jsx(i,{children:"Месяц"}),e.jsx(i,{align:"right",children:"Студенты"}),e.jsx(i,{align:"right",children:"Завершили"}),e.jsx(i,{align:"right",children:"Доходы"}),e.jsx(i,{align:"right",children:"Сдача (%)"})]})}),e.jsx(J,{children:l.map(s=>e.jsxs(y,{hover:!0,children:[e.jsx(i,{children:s.month}),e.jsx(i,{align:"right",children:s.students}),e.jsx(i,{align:"right",children:s.completed}),e.jsx(i,{align:"right",children:g(s.revenue)}),e.jsx(i,{align:"right",children:e.jsxs(n,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end"},children:[e.jsxs(t,{variant:"body2",sx:{mr:1},children:[s.passRate,"%"]}),s.passRate>=90?e.jsx(f,{sx:{fontSize:16,color:"success.main"}}):s.passRate>=80?e.jsx(f,{sx:{fontSize:16,color:"warning.main"}}):e.jsx(K,{sx:{fontSize:16,color:"error.main"}})]})})]},s.month))})]})})]})}),e.jsx(a,{item:!0,xs:12,lg:4,children:e.jsxs(a,{container:!0,spacing:3,children:[e.jsx(a,{item:!0,xs:12,children:e.jsxs(h,{sx:{p:3},children:[e.jsx(t,{variant:"h6",gutterBottom:!0,children:"Топ инструкторы"}),e.jsx(v,{dense:!0,children:u.map((s,r)=>e.jsxs("div",{children:[e.jsxs(b,{children:[e.jsx(O,{children:e.jsx(n,{sx:{width:24,height:24,borderRadius:"50%",bgcolor:"primary.main",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:12,fontWeight:"bold"},children:r+1})}),e.jsx(C,{primary:s.name,secondary:e.jsxs(n,{children:[e.jsxs(t,{variant:"body2",children:["Студентов: ",s.students]}),e.jsxs(t,{variant:"body2",children:["Рейтинг: ",s.rating," ⭐"]}),e.jsx(R,{variant:"determinate",value:s.completionRate,sx:{mt:.5,height:4}})]})})]}),r<u.length-1&&e.jsx(I,{})]},s.name))})]})}),e.jsx(a,{item:!0,xs:12,children:e.jsxs(h,{sx:{p:3},children:[e.jsx(t,{variant:"h6",gutterBottom:!0,children:"Популярные курсы"}),e.jsx(v,{dense:!0,children:p.map((s,r)=>e.jsxs("div",{children:[e.jsx(b,{children:e.jsx(C,{primary:s.course,secondary:e.jsxs(n,{children:[e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",mb:.5},children:[e.jsxs(t,{variant:"body2",children:[s.students," студентов"]}),e.jsxs(t,{variant:"body2",children:[s.percentage,"%"]})]}),e.jsx(R,{variant:"determinate",value:s.percentage,sx:{height:6,borderRadius:3}})]})})}),r<p.length-1&&e.jsx(I,{})]},s.course))})]})})]})})]})]})]})};export{se as default};
//# sourceMappingURL=index-1798d254.js.map
