import{j as e,C as R,B as x,e as p,ah as J,n as K,T as n,G as i,f as C,h as y,i as L,y as N,z as X,F as Z,H as S,J as a,K as _,A as $,au as q,P as Q,s as U,g as V,af as D,ak as Y,al as ee,am as te,an as se,W as k,X as I,Z as W,_ as m,$ as w,a0 as T,a1 as b,a2 as o,a3 as E,ao as ae,ap as ne,o as ie}from"./ui-4acb94fb.js";import{r as h}from"./vendor-c1fc8f85.js";import{W as le}from"./index-8b3557c4.js";import{b as re}from"./router-7ed49354.js";import"./utils-4719f846.js";import"./query-956dc969.js";const je=()=>{const B=re(),[l,v]=h.useState([]),[d,u]=h.useState(null),[z,j]=h.useState(!1),[A,f]=h.useState(!1),[s,r]=h.useState({name:"",position:"",department:"",phone:"",email:"",status:"active",experience:0});h.useEffect(()=>{v([{id:"1",name:"Муталиев Амурклан Ибрагимович",position:"Директор",department:"Администрация",phone:"+79286970697",email:"amurklan@mail.ru",hireDate:"2020-01-15",status:"active",experience:15},{id:"2",name:"Иванов Иван Иванович",position:"Главный инструктор",department:"Обучение",phone:"+7928-123-45-67",email:"ivanov@rulplus.ru",hireDate:"2021-03-10",status:"active",experience:12},{id:"3",name:"Петрова Анна Сергеевна",position:"Инструктор по теории",department:"Обучение",phone:"+7928-987-65-43",email:"petrova@rulplus.ru",hireDate:"2022-06-01",status:"active",experience:8},{id:"4",name:"Сидоров Петр Александрович",position:"Инструктор по вождению",department:"Вождение",phone:"+7928-555-11-22",email:"sidorov@rulplus.ru",hireDate:"2023-01-20",status:"vacation",experience:5},{id:"5",name:"Козлова Мария Дмитриевна",position:"Администратор",department:"Администрация",phone:"+7928-333-77-88",email:"kozlova@rulplus.ru",hireDate:"2023-09-15",status:"active",experience:3}])},[]);const F=t=>{switch(t){case"active":return"success";case"vacation":return"warning";case"inactive":return"error";default:return"default"}},O=t=>{switch(t){case"active":return"Активный";case"vacation":return"В отпуске";case"inactive":return"Неактивный";default:return t}},P=t=>{u(t),r({name:t.name,position:t.position,department:t.department,phone:t.phone,email:t.email,status:t.status,experience:t.experience}),j(!0)},M=t=>{u(t),f(!0)},G=()=>{if(d){const t=l.map(c=>c.id===d.id?{...c,...s}:c);v(t)}else{const t={id:Date.now().toString(),...s,hireDate:new Date().toISOString().split("T")[0]};v([...l,t])}j(!1),u(null)},H=()=>{d&&v(l.filter(t=>t.id!==d.id)),f(!1),u(null)},g={total:l.length,active:l.filter(t=>t.status==="active").length,vacation:l.filter(t=>t.status==="vacation").length,avgExperience:Math.round(l.reduce((t,c)=>t+c.experience,0)/l.length)};return e.jsxs(e.Fragment,{children:[e.jsxs(le,{children:[e.jsx("title",{children:"Управление персоналом - РУЛЬ+ Админ"}),e.jsx("meta",{name:"robots",content:"noindex,nofollow"})]}),e.jsxs(R,{maxWidth:"xl",sx:{py:4},children:[e.jsxs(x,{sx:{display:"flex",alignItems:"center",mb:4},children:[e.jsx(p,{startIcon:e.jsx(J,{}),onClick:()=>B("/admin"),sx:{mr:2},children:"Назад"}),e.jsx(K,{sx:{mr:2,fontSize:32,color:"primary.main"}}),e.jsxs(x,{children:[e.jsx(n,{variant:"h4",component:"h1",fontWeight:"bold",children:"Управление персоналом"}),e.jsx(n,{variant:"body1",color:"text.secondary",children:"Управление сотрудниками и инструкторами автошколы"})]})]}),e.jsxs(i,{container:!0,spacing:3,sx:{mb:4},children:[e.jsx(i,{item:!0,xs:12,sm:6,md:3,children:e.jsx(C,{children:e.jsxs(y,{children:[e.jsx(n,{color:"text.secondary",gutterBottom:!0,children:"Всего сотрудников"}),e.jsx(n,{variant:"h4",color:"primary",children:g.total})]})})}),e.jsx(i,{item:!0,xs:12,sm:6,md:3,children:e.jsx(C,{children:e.jsxs(y,{children:[e.jsx(n,{color:"text.secondary",gutterBottom:!0,children:"Активных"}),e.jsx(n,{variant:"h4",color:"success.main",children:g.active})]})})}),e.jsx(i,{item:!0,xs:12,sm:6,md:3,children:e.jsx(C,{children:e.jsxs(y,{children:[e.jsx(n,{color:"text.secondary",gutterBottom:!0,children:"В отпуске"}),e.jsx(n,{variant:"h4",color:"warning.main",children:g.vacation})]})})}),e.jsx(i,{item:!0,xs:12,sm:6,md:3,children:e.jsx(C,{children:e.jsxs(y,{children:[e.jsx(n,{color:"text.secondary",gutterBottom:!0,children:"Средний стаж (лет)"}),e.jsx(n,{variant:"h4",color:"info.main",children:g.avgExperience})]})})})]}),e.jsx(L,{sx:{width:"100%",overflow:"hidden"},children:e.jsx(N,{children:e.jsxs(X,{children:[e.jsx(Z,{children:e.jsxs(S,{children:[e.jsx(a,{children:"Сотрудник"}),e.jsx(a,{children:"Должность"}),e.jsx(a,{children:"Отдел"}),e.jsx(a,{children:"Контакты"}),e.jsx(a,{children:"Дата найма"}),e.jsx(a,{children:"Стаж"}),e.jsx(a,{children:"Статус"}),e.jsx(a,{align:"center",children:"Действия"})]})}),e.jsx(_,{children:l.map(t=>e.jsxs(S,{hover:!0,children:[e.jsx(a,{children:e.jsxs(x,{sx:{display:"flex",alignItems:"center"},children:[e.jsx($,{sx:{mr:2,bgcolor:"primary.main"},children:t.name.split(" ").map(c=>c[0]).join("")}),e.jsx(n,{variant:"subtitle2",fontWeight:"medium",children:t.name})]})}),e.jsx(a,{children:t.position}),e.jsx(a,{children:t.department}),e.jsx(a,{children:e.jsxs(q,{spacing:.5,children:[e.jsxs(x,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(Q,{sx:{fontSize:16,mr:.5,color:"text.secondary"}}),e.jsx(n,{variant:"body2",children:t.phone})]}),e.jsxs(x,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(U,{sx:{fontSize:16,mr:.5,color:"text.secondary"}}),e.jsx(n,{variant:"body2",children:t.email})]})]})}),e.jsx(a,{children:t.hireDate}),e.jsxs(a,{children:[t.experience," лет"]}),e.jsx(a,{children:e.jsx(V,{label:O(t.status),size:"small",color:F(t.status)})}),e.jsxs(a,{align:"center",children:[e.jsx(D,{size:"small",onClick:()=>P(t),title:"Редактировать",children:e.jsx(Y,{})}),e.jsx(D,{size:"small",onClick:()=>M(t),title:"Удалить",color:"error",children:e.jsx(ee,{})})]})]},t.id))})]})})}),e.jsx(te,{color:"primary","aria-label":"add",sx:{position:"fixed",bottom:24,right:24},onClick:()=>{u(null),r({name:"",position:"",department:"",phone:"",email:"",status:"active",experience:0}),j(!0)},children:e.jsx(se,{})}),e.jsxs(k,{open:z,onClose:()=>j(!1),maxWidth:"md",fullWidth:!0,children:[e.jsx(I,{children:d?"Редактировать сотрудника":"Добавить нового сотрудника"}),e.jsx(W,{children:e.jsx(x,{sx:{pt:2},children:e.jsxs(i,{container:!0,spacing:3,children:[e.jsx(i,{item:!0,xs:12,children:e.jsx(m,{fullWidth:!0,label:"ФИО",value:s.name,onChange:t=>r({...s,name:t.target.value})})}),e.jsx(i,{item:!0,xs:12,sm:6,children:e.jsx(m,{fullWidth:!0,label:"Должность",value:s.position,onChange:t=>r({...s,position:t.target.value})})}),e.jsx(i,{item:!0,xs:12,sm:6,children:e.jsxs(w,{fullWidth:!0,children:[e.jsx(T,{children:"Отдел"}),e.jsxs(b,{value:s.department,label:"Отдел",onChange:t=>r({...s,department:t.target.value}),children:[e.jsx(o,{value:"Администрация",children:"Администрация"}),e.jsx(o,{value:"Обучение",children:"Обучение"}),e.jsx(o,{value:"Вождение",children:"Вождение"}),e.jsx(o,{value:"Техническая служба",children:"Техническая служба"})]})]})}),e.jsx(i,{item:!0,xs:12,sm:6,children:e.jsx(m,{fullWidth:!0,label:"Телефон",value:s.phone,onChange:t=>r({...s,phone:t.target.value})})}),e.jsx(i,{item:!0,xs:12,sm:6,children:e.jsx(m,{fullWidth:!0,label:"Email",type:"email",value:s.email,onChange:t=>r({...s,email:t.target.value})})}),e.jsx(i,{item:!0,xs:12,sm:6,children:e.jsx(m,{fullWidth:!0,label:"Стаж работы (лет)",type:"number",value:s.experience,onChange:t=>r({...s,experience:parseInt(t.target.value)||0})})}),e.jsx(i,{item:!0,xs:12,sm:6,children:e.jsxs(w,{fullWidth:!0,children:[e.jsx(T,{children:"Статус"}),e.jsxs(b,{value:s.status,label:"Статус",onChange:t=>r({...s,status:t.target.value}),children:[e.jsx(o,{value:"active",children:"Активный"}),e.jsx(o,{value:"vacation",children:"В отпуске"}),e.jsx(o,{value:"inactive",children:"Неактивный"})]})]})})]})})}),e.jsxs(E,{children:[e.jsx(p,{onClick:()=>j(!1),startIcon:e.jsx(ae,{}),children:"Отмена"}),e.jsx(p,{onClick:G,variant:"contained",startIcon:e.jsx(ne,{}),children:"Сохранить"})]})]}),e.jsxs(k,{open:A,onClose:()=>f(!1),children:[e.jsx(I,{children:"Подтверждение удаления"}),e.jsxs(W,{children:[e.jsx(ie,{severity:"warning",sx:{mb:2},children:"Это действие нельзя отменить!"}),e.jsxs(n,{children:['Вы уверены, что хотите удалить сотрудника "',d?.name,'"?']})]}),e.jsxs(E,{children:[e.jsx(p,{onClick:()=>f(!1),children:"Отмена"}),e.jsx(p,{onClick:H,color:"error",variant:"contained",children:"Удалить"})]})]})]})]})};export{je as default};
//# sourceMappingURL=index-1eb063e3.js.map
