import{j as e,C as j,a as T,T as r,o as h,B as n,I as D,G as t,f as a,h as c,w as d,x as C,y as U,i as B,z as A,F as R,H as p,J as l,K as L,g as u,M as P,e as w,V as W,N as E}from"./ui-4acb94fb.js";import{r as m}from"./vendor-c1fc8f85.js";import{W as F}from"./index-8b3557c4.js";import{d as g}from"./documentsApi-d63edb6d.js";import"./utils-4719f846.js";import"./router-7ed49354.js";import"./query-956dc969.js";const M=()=>{const[i,y]=m.useState(null),[I,f]=m.useState(!0),[v,b]=m.useState(null);m.useEffect(()=>{(async()=>{try{f(!0);const o=await g.getDocuments();y(o.data),b(null)}catch(o){console.error("Ошибка загрузки документов:",o),b("Не удалось загрузить документы. Попробуйте позже."),y({charter:[],license:[],accreditation:[],regulations:[],reports:[],collective:[],prescriptions:[],lastUpdated:new Date().toISOString()})}finally{f(!1)}})()},[]);const S=(s,o)=>{g.downloadDocument(s,o)},z=s=>{g.viewDocument(s)};if(I)return e.jsxs(j,{maxWidth:"lg",sx:{py:8,textAlign:"center"},children:[e.jsx(T,{size:40}),e.jsx(r,{variant:"h6",sx:{mt:2},children:"Загрузка документов..."})]});if(v)return e.jsx(j,{maxWidth:"lg",sx:{py:8},children:e.jsx(h,{severity:"error",sx:{mb:4},children:v})});if(!i)return e.jsx(j,{maxWidth:"lg",sx:{py:8},children:e.jsx(h,{severity:"info",children:"Документы не найдены"})});const x=({doc:s,category:o})=>e.jsx(a,{sx:{mb:2},children:e.jsx(c,{children:e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:2},children:[e.jsxs(n,{sx:{flex:1},children:[e.jsx(r,{variant:"h6",gutterBottom:!0,children:s.title}),e.jsx(r,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:s.description}),s.status==="not_required"?e.jsx(h,{severity:"info",sx:{mt:1},children:"Данный документ не требуется для программ профессионального обучения"}):e.jsx(n,{sx:{mt:2},children:e.jsxs(t,{container:!0,spacing:2,alignItems:"center",children:[e.jsx(t,{item:!0,children:e.jsxs(n,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(P,{sx:{mr:1,fontSize:16,color:"text.secondary"}}),e.jsxs(r,{variant:"body2",color:"text.secondary",children:["Загружен: ",new Date(s.uploadDate).toLocaleDateString("ru-RU")]})]})}),s.fileSize&&e.jsx(t,{item:!0,children:e.jsx(u,{label:s.fileSize,size:"small",variant:"outlined"})}),s.expiryDate&&e.jsx(t,{item:!0,children:e.jsxs(r,{variant:"body2",color:"text.secondary",children:["Действует до: ",new Date(s.expiryDate).toLocaleDateString("ru-RU")]})})]})})]}),s.fileUrl&&e.jsxs(n,{sx:{ml:2,display:"flex",gap:1},children:[e.jsx(w,{variant:"outlined",size:"small",startIcon:e.jsx(W,{}),onClick:()=>z(s.fileUrl),children:"Просмотр"}),e.jsx(w,{variant:"contained",size:"small",startIcon:e.jsx(E,{}),onClick:()=>S(s.fileUrl,s.title),children:"Скачать"})]})]})})});return e.jsxs(e.Fragment,{children:[e.jsxs(F,{children:[e.jsx("title",{children:"Документы - РУЛЬ+ | СЕЛ - ПОЕХАЛ"}),e.jsx("meta",{name:"description",content:"Документы автошколы РУЛЬ+: устав, лицензии, отчеты о самообследовании, правила внутреннего распорядка согласно требованиям Рособрнадзора."})]}),e.jsxs(j,{maxWidth:"lg",sx:{py:4},children:[e.jsxs(n,{sx:{mb:4},children:[e.jsx(r,{variant:"h3",component:"h1",gutterBottom:!0,children:"Документы"}),e.jsx(r,{variant:"body1",color:"text.secondary",children:"Основные документы образовательной организации для ознакомления и скачивания"})]}),e.jsx(h,{severity:"info",sx:{mb:4},children:e.jsxs(r,{variant:"body2",children:[e.jsx(D,{sx:{mr:1,verticalAlign:"middle"}}),"Все документы представлены в формате PDF. Для просмотра необходима программа для чтения PDF-файлов. При возникновении проблем с просмотром или скачиванием документов обращайтесь по телефону +7 (495) 123-45-67."]})}),e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,children:e.jsx(a,{children:e.jsxs(c,{children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center",mb:3},children:[e.jsx(d,{sx:{mr:2,color:"primary.main"}}),e.jsx(r,{variant:"h5",component:"h2",children:"Устав образовательной организации"})]}),i.charter.map(s=>e.jsx(x,{doc:s,category:"charter"},s.id))]})})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(a,{children:e.jsxs(c,{children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center",mb:3},children:[e.jsx(C,{sx:{mr:2,color:"success.main"}}),e.jsx(r,{variant:"h5",component:"h2",children:"Лицензия на осуществление образовательной деятельности"})]}),i.license.map(s=>e.jsx(x,{doc:s,category:"license"},s.id))]})})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(a,{children:e.jsxs(c,{children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center",mb:3},children:[e.jsx(d,{sx:{mr:2,color:"warning.main"}}),e.jsx(r,{variant:"h5",component:"h2",children:"Свидетельство о государственной аккредитации"})]}),i.accreditation.map(s=>e.jsx(x,{doc:s,category:"accreditation"},s.id))]})})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(a,{children:e.jsxs(c,{children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center",mb:3},children:[e.jsx(d,{sx:{mr:2,color:"primary.main"}}),e.jsx(r,{variant:"h5",component:"h2",children:"Правила внутреннего распорядка"})]}),i.regulations.map(s=>e.jsx(x,{doc:s,category:"regulations"},s.id))]})})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(a,{children:e.jsxs(c,{children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center",mb:3},children:[e.jsx(d,{sx:{mr:2,color:"info.main"}}),e.jsx(r,{variant:"h5",component:"h2",children:"Отчеты о результатах самообследования"})]}),i.reports.map(s=>e.jsx(x,{doc:s,category:"reports"},s.id))]})})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(a,{children:e.jsxs(c,{children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center",mb:3},children:[e.jsx(d,{sx:{mr:2,color:"secondary.main"}}),e.jsx(r,{variant:"h5",component:"h2",children:"Коллективный договор"})]}),i.collective.map(s=>e.jsx(x,{doc:s,category:"collective"},s.id))]})})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(a,{children:e.jsxs(c,{children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center",mb:3},children:[e.jsx(d,{sx:{mr:2,color:"warning.main"}}),e.jsx(r,{variant:"h5",component:"h2",children:"Предписания органов, осуществляющих государственный контроль (надзор) в сфере образования"})]}),i.prescriptions.length>0?i.prescriptions.map(s=>e.jsx(x,{doc:s,category:"prescriptions"},s.id)):e.jsx(h,{severity:"success",children:"Предписания органов государственного контроля (надзора) отсутствуют"})]})})})]}),e.jsx(a,{sx:{mt:4},children:e.jsxs(c,{children:[e.jsx(r,{variant:"h5",component:"h2",gutterBottom:!0,children:"Сводная информация о документах"}),e.jsx(U,{component:B,variant:"outlined",children:e.jsxs(A,{children:[e.jsx(R,{children:e.jsxs(p,{children:[e.jsx(l,{children:e.jsx("strong",{children:"Наименование документа"})}),e.jsx(l,{children:e.jsx("strong",{children:"Дата загрузки"})}),e.jsx(l,{children:e.jsx("strong",{children:"Размер файла"})}),e.jsx(l,{children:e.jsx("strong",{children:"Статус"})})]})}),e.jsxs(L,{children:[[...i.charter,...i.license,...i.regulations,...i.reports,...i.collective].map(s=>e.jsxs(p,{children:[e.jsx(l,{children:s.title}),e.jsx(l,{children:new Date(s.uploadDate).toLocaleDateString("ru-RU")}),e.jsx(l,{children:s.fileSize||"-"}),e.jsx(l,{children:e.jsx(u,{label:"Доступен",color:"success",size:"small",icon:e.jsx(C,{})})})]},s.id)),i.accreditation.map(s=>e.jsxs(p,{children:[e.jsx(l,{children:s.title}),e.jsx(l,{children:"-"}),e.jsx(l,{children:"-"}),e.jsx(l,{children:e.jsx(u,{label:"Не требуется",color:"info",size:"small",icon:e.jsx(D,{})})})]},s.id))]})]})})]})}),e.jsx(n,{sx:{mt:4,textAlign:"center"},children:e.jsxs(r,{variant:"body2",color:"text.secondary",children:["Дата последнего обновления информации: ",new Date(i.lastUpdated).toLocaleDateString("ru-RU")]})})]})]})};export{M as default};
//# sourceMappingURL=index-c3a9b81e.js.map
